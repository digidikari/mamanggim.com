<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMANG GIM</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            background: #111;
            color: white;
        }

        #sidebar {
            width: 250px;
            background: #222;
            padding: 20px;
            height: 100vh;
        }

        #toggleSidebar {
            background: red;
            color: white;
            border: none;
            padding: 10px;
            font-size: 20px;
            cursor: pointer;
        }

        #gameContainer {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .game-card {
            background: #333;
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <!-- Sidebar -->
    <aside id="sidebar">
        <button id="toggleSidebar">â˜°</button>
        <h1>MAMANG GIM</h1>
        <ul id="categoryList">
            <li><a href="#" onclick="filterGames('all')">Semua Kategori</a></li>
        </ul>
    </aside>

    <!-- Konten Utama -->
    <main id="gameContainer">
        <h2>Daftar Game</h2>
        <div id="games"></div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const sidebar = document.getElementById("sidebar");
            const toggleSidebar = document.getElementById("toggleSidebar");
            const gamesContainer = document.getElementById("games");
            const categoryList = document.getElementById("categoryList");

            // **Toggle Sidebar**
            toggleSidebar.addEventListener("click", function () {
                sidebar.style.display = sidebar.style.display === "none" ? "block" : "none";
            });

            // **Ambil Data dari RSS GamePix**
            fetch("https://feeds.gamepix.com/v2/json?sid=ANA26&pagination=96&page=1")
                .then(response => response.json())
                .then(data => {
                    let games = data.items;
                    let categories = new Set(); // Kategori unik

                    // **Tampilkan Game**
                    gamesContainer.innerHTML = "";
                    games.forEach(game => {
                        let category = game.category || "Lainnya"; // Jika kategori kosong
                        categories.add(category);

                        let gameElement = document.createElement("div");
                        gameElement.classList.add("game-card");
                        gameElement.innerHTML = `
                            <h3>${game.title}</h3>
                            <p>Kategori: ${category}</p>
                            <a href="${game.url}" target="_blank">Mainkan</a>
                        `;
                        gameElement.dataset.category = category;
                        gamesContainer.appendChild(gameElement);
                    });

                    // **Tampilkan Kategori di Sidebar**
                    categories.forEach(cat => {
                        let catElement = document.createElement("li");
                        catElement.innerHTML = `<a href="#" onclick="filterGames('${cat}')">${cat}</a>`;
                        categoryList.appendChild(catElement);
                    });
                })
                .catch(error => console.error("Gagal mengambil data:", error));
        });

        // **Filter Game Berdasarkan Kategori**
        function filterGames(category) {
            let games = document.querySelectorAll(".game-card");
            games.forEach(game => {
                if (category === "all" || game.dataset.category === category) {
                    game.style.display = "block";
                } else {
                    game.style.display = "none";
                }
            });
        }
    </script>

</body>
</html>
